<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
    />
    <meta name="apple-mobile-web-app-capable" content="no" />
    <meta name="mobile-web-app-capable" content="no" />
    <title>Vite + React</title>
    <style>
      html {
        height: 100%;
        margin: 0;
        padding: 0;
        background-color: #000; /* Match background color */
      }
      body {
        height: 100%;
        margin: 0;
        padding: 0;
        overflow-x: hidden;
        overflow-y: scroll; /* Enable scrolling */
        background-color: #000; /* Match background color */
      }
      /* Hide scrollbar for Chrome, Safari and Opera */
      body::-webkit-scrollbar {
        display: none;
      }
      /* Hide scrollbar for IE, Edge and Firefox */
      body {
        -ms-overflow-style: none; /* IE and Edge */
        scrollbar-width: none; /* Firefox */
        overscroll-behavior-y: none; /* Prevent bounce effect */
      }
      #root {
        min-height: 100%;
        -webkit-overflow-scrolling: touch;
        position: relative; /* Ensure proper stacking */
      }
      /* Prevent white space at bottom */
      @media (max-width: 768px) {
        body::after {
          content: "";
          display: block;
          position: fixed;
          bottom: -50px;
          left: 0;
          right: 0;
          height: 50px;
          background-color: #000;
          z-index: -1;
        }
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
    <script>
      // Force the URL bar to be visible and scroll with the page on mobile
      (function () {
        // This helps ensure the URL bar is in its natural state
        if (/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)) {
          // For mobile devices
          document.documentElement.style.height = "100vh";

          // Add a small amount of extra space to ensure scrolling without visible white space
          window.addEventListener("load", function () {
            // Create a hidden spacer that's just enough to enable scrolling
            const spacer = document.createElement("div");
            spacer.id = "scroll-spacer";
            spacer.style.height = "1px";
            spacer.style.opacity = "0";
            spacer.style.position = "absolute";
            spacer.style.bottom = "0";
            spacer.style.left = "0";
            spacer.style.width = "100%";
            document.body.appendChild(spacer);

            // Handle scrolling to prevent white space at bottom
            window.addEventListener("scroll", function () {
              // If we're near the bottom
              if (
                window.innerHeight + window.scrollY >=
                document.body.offsetHeight - 50
              ) {
                // Prevent overscroll
                document.body.style.overscrollBehavior = "none";
              } else {
                document.body.style.overscrollBehavior = "auto";
              }
            });

            // Fix for background shift on fast scroll
            document.addEventListener(
              "scroll",
              function () {
                // Force redraw to prevent background shift
                requestAnimationFrame(function () {
                  // If we're at the bottom, prevent further scrolling
                  if (
                    window.innerHeight + window.pageYOffset >=
                    document.body.offsetHeight
                  ) {
                    // Prevent scrolling beyond content
                    window.scrollTo(
                      0,
                      document.body.offsetHeight - window.innerHeight
                    );
                  }
                });
              },
              { passive: true }
            );
          });
        }
      })();
    </script>
  </body>
</html>
