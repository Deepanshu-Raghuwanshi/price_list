<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, viewport-fit=cover, height=device-height, user-scalable=no"
    />
    <meta name="apple-mobile-web-app-capable" content="no" />
    <meta name="mobile-web-app-capable" content="no" />
    <title>Vite + React</title>
    <style>
      :root {
        --vh: 1vh; /* Default value, will be set by JS */
      }
      html {
        height: 100%; /* This will be the smallest possible viewport (URL bar shown) */
        margin: 0;
        padding: 0;
        background-color: transparent; /* Allow background image to show */
        overscroll-behavior-y: contain; /* Less restrictive than 'none' */
      }
      body {
        height: 100%; /* This will be the smallest possible viewport (URL bar shown) */
        margin: 0;
        padding: 0;
        overflow-x: hidden;
        overflow-y: auto; /* Enable scrolling */
        background-color: transparent; /* Allow background image to show */
        position: relative; /* Create stacking context */
      }
      /* Hide scrollbar for Chrome, Safari and Opera */
      body::-webkit-scrollbar {
        display: none;
      }
      /* Hide scrollbar for IE, Edge and Firefox */
      body {
        -ms-overflow-style: none; /* IE and Edge */
        scrollbar-width: none; /* Firefox */
      }
      #root {
        min-height: 100%; /* This will be the smallest possible viewport (URL bar shown) */
        -webkit-overflow-scrolling: touch;
        position: relative; /* Ensure proper stacking */
      }
      /* Fix for iOS Safari */
      @supports (-webkit-touch-callout: none) {
        html,
        body,
        #root {
          height: -webkit-fill-available;
        }
        /* We don't need the gradient anymore */
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
    <script>
      // Handle mobile viewport issues with URL bar based on Chrome 56+ behavior
      (function () {
        // We don't need to set vh property anymore as we're using the browser's behavior
        // Chrome 56+ uses the largest possible viewport for vh units

        if (/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)) {
          // For mobile devices
          window.addEventListener("load", function () {
            // We don't need the gradient anymore

            // Force a small scroll to normalize the URL bar state
            setTimeout(function () {
              window.scrollTo(0, 1);
            }, 100);

            // Handle scroll events
            let isFirstScroll = true;

            window.addEventListener(
              "scroll",
              function () {
                // Special handling for first scroll (when URL bar typically hides)
                if (isFirstScroll) {
                  // Just mark as scrolled
                  isFirstScroll = false;
                }
              },
              { passive: true }
            );

            // Handle orientation changes
            window.addEventListener(
              "orientationchange",
              function () {
                // Force a small scroll after orientation change
                setTimeout(function () {
                  window.scrollTo(0, 1);
                }, 100);
              },
              { passive: true }
            );
          });
        }
      })();
    </script>
  </body>
</html>
